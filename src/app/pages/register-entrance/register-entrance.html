<div class="form-container">
    <a routerLink="/home" class="volver-link">Volver</a>
    <h2 class="form-title">Registrar Entrada de Visitante</h2>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="visitor-form" novalidate>
    <div class="form-row">
        <label>
            <span>Fecha:</span>
            <input type="date" formControlName="fecha" />
        </label>
        <label>
            <span>Hora de Entrada:</span>
            <input type="time" formControlName="horaEntrada" />
        </label>
    </div>

    <label>
        <span>Nombre Completo:</span>
        <input type="text" formControlName="nombre" />
        <div class="error-message" *ngIf="error('nombre')">{{ error('nombre') }}</div>
    </label>

    <div class="form-row">
        <label>
            <span>Cédula / Pasaporte:</span>
            <input type="text"  formControlName="cedula"/>
            <div class="error-message" *ngIf="error('cedula')">{{ error('cedula') }}</div>
        </label>
        <label>
            <span>Empresa:</span>
            <input type="text" formControlName="empresa" />
            <div class="error-message" *ngIf="error('empresa')">{{ error('empresa') }}</div>
        </label>
    </div>

    <label>
        <span>Correo Electrónico:</span>
        <input type="email" formControlName="correo" />
        <div class="error-message" *ngIf="error('correo')">{{ error('correo') }}</div>
    </label>

    <div class="form-row">
        <label>
            <span>Area a visitar:</span>
            <input type="text" formControlName="area" />
            <div class="error-message" *ngIf="error('area')">{{ error('area') }}</div>
        </label>
        <label>
            <span>Motivo de visita:</span>
            <input type="text" formControlName="motivo" />
            <div class="error-message" *ngIf="error('motivo')">{{ error('motivo') }}</div>
        </label>
    </div>

    <label class="checkbox-inline">
        <input type="checkbox" formControlName="carnetVisita" />
        <span>Solicita carnet de visita</span>
    </label>

    <label>
        <span>Hora de Salida:</span>
        <input type="time" formControlName="horaSalida" />
    </label>

    <div>
        <label><span>Firma (use el mouse o un dispositivo táctil):</span></label>
        <canvas
        #signCanvas
        class="signature"
        width="700"
        height="140"
        (mousedown)="startDraw($event)"
        (mousemove)="draw($event)"
        (mouseup)="endDraw()"
        (touchstart)="startDraw($event)"
        (touchmove)="draw($event)"
        (touchend)="endDraw()"
        ></canvas>
        <div class="signature-actions">
            <button type="button" class="btn-link" (click)="clearSignature()">Borrar</button>
            <button type="button" class="btn-link" (click)="downloadSignature()">Descargar</button>
        </div>
    </div>

    <div class="form-actions">
        <button type="submit" (click)="onSubmit()" class="btn-primary">Guardar Visita</button>
    </div>
  </form>
  <app-footer />
</div>